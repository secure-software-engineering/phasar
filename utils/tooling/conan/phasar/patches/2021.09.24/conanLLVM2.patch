diff --git a/CMakeLists.txt b/CMakeLists.txt
index d93c9ada..a7a1b4a4 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -162,14 +162,9 @@ find_library(SQLITE3_LIBRARY NAMES sqlite3)
 include_directories(${SQLITE3_INCLUDE_DIR})
 
 # LLVM
-if (NOT PHASAR_IN_TREE)
-  # Only search for LLVM if we build out of tree
-  find_package(LLVM 12 REQUIRED CONFIG)
-  include_directories(${LLVM_INCLUDE_DIRS})
-  link_directories(${LLVM_LIB_PATH} ${LLVM_LIBRARY_DIRS})
-endif()
-
-add_definitions(${LLVM_DEFINITIONS})
+find_package(llvm-core 12 REQUIRED)
+include_directories(${llvm-core_INCLUDE_DIRS})
+link_directories(${llvm-core_LIBRARY_DIRS})
 
 if (NOT PHASAR_IN_TREE)
   find_library(LLVM_LIBRARY NAMES LLVM PATHS ${LLVM_LIBRARY_DIRS} NO_DEFAULT_PATH)
@@ -263,9 +258,6 @@ set(LLVM_LINK_COMPONENTS
   vectorize
 )
 
-llvm_map_components_to_libnames(llvm_libs
-  ${LLVM_LINK_COMPONENTS}
-)
 
 # phasar-based binaries
 #add_subdirectory(tools)
diff --git a/Config.cmake.in b/Config.cmake.in
index 2afcac66..0fdee086 100644
--- a/Config.cmake.in
+++ b/Config.cmake.in
@@ -13,11 +13,8 @@ function(phasar_config executable)
   include_directories(${LLVM_INCLUDE_DIRS})
   link_directories(${LLVM_LIB_PATH} ${LLVM_LIBRARY_DIRS})
   find_library(LLVM_LIBRARY NAMES LLVM HINTS ${LLVM_LIBRARY_DIRS})
-  if(NOT ${LLVM_LIBRARY} STREQUAL "LLVM_LIBRARY-NOTFOUND")
-    llvm_config(${executable} USE_SHARED ${PHASAR_LLVM_DEPS})
-  else()
-    llvm_config(${executable} ${PHASAR_LLVM_DEPS})
-  endif()
+  list(TRANSFORM PHASAR_LLVM_DEPS PREPEND LLVM)
+  target_link_libraries(${executable} PUBLIC ${PHASAR_LLVM_DEPS})
   list(REMOVE_DUPLICATES PHASAR_NEEDED_LIBS)
   target_link_libraries(${executable}
     PUBLIC
diff --git a/cmake/phasar_macros.cmake b/cmake/phasar_macros.cmake
index 369297d7..5b330e5c 100644
--- a/cmake/phasar_macros.cmake
+++ b/cmake/phasar_macros.cmake
@@ -6,14 +6,10 @@ function(add_phasar_unittest test_name)
   )
   add_dependencies(PhasarUnitTests ${test})
 
-  if(USE_LLVM_FAT_LIB)
-    llvm_config(${test} USE_SHARED ${LLVM_LINK_COMPONENTS})
-  else()
-    llvm_config(${test} ${LLVM_LINK_COMPONENTS})
-  endif()
-
+  list(TRANSFORM LLVM_LINK_COMPONENTS PREPEND LLVM)
   target_link_libraries(${test}
     LINK_PUBLIC
+    ${LLVM_LINK_COMPONENTS}
     phasar_config
     phasar_controller
     phasar_controlflow
@@ -125,6 +121,7 @@ function(generate_ll_file)
 endfunction()
 
 macro(add_phasar_executable name)
+  list(TRANSFORM LLVM_LINK_COMPONENTS PREPEND LLVM)
   set(LLVM_RUNTIME_OUTPUT_INTDIR ${CMAKE_BINARY_DIR}/${CMAKE_CFG_INTDIR}/bin)
   set(LLVM_LIBRARY_OUTPUT_INTDIR ${CMAKE_BINARY_DIR}/${CMAKE_CFG_INTDIR}/lib)
   add_llvm_executable( ${name} ${ARGN} )
@@ -165,20 +162,16 @@ macro(add_phasar_library name)
 
   if(PHASAR_LINK_LIBS)
     foreach(lib ${PHASAR_LINK_LIBS})
-      if(PHASAR_DEBUG_LIBDEPS)
-        target_link_libraries(${name} LINK_PRIVATE ${lib})
-      else()
-        target_link_libraries(${name} LINK_PUBLIC ${lib})
-      endif(PHASAR_DEBUG_LIBDEPS)
+    if(PHASAR_DEBUG_LIBDEPS)
+      target_link_libraries(${name} LINK_PRIVATE ${lib})
+    else()
+      target_link_libraries(${name} LINK_PUBLIC ${lib})
+    endif(PHASAR_DEBUG_LIBDEPS)
     endforeach(lib)
   endif(PHASAR_LINK_LIBS)
-
+  list(TRANSFORM LLVM_LINK_COMPONENTS PREPEND LLVM)
   if( LLVM_LINK_COMPONENTS )
-    if( USE_LLVM_FAT_LIB )
-      llvm_config(${name} USE_SHARED ${LLVM_LINK_COMPONENTS})
-    else()
-      llvm_config(${name} ${LLVM_LINK_COMPONENTS})
-    endif()
+    target_link_libraries(${name} PUBLIC ${LLVM_LINK_COMPONENTS})
   endif( LLVM_LINK_COMPONENTS )
   if(MSVC)
     get_target_property(cflag ${name} COMPILE_FLAGS)
diff --git a/lib/PhasarLLVM/Plugins/CMakeLists.txt b/lib/PhasarLLVM/Plugins/CMakeLists.txt
index b35b7bee..1be49df7 100644
--- a/lib/PhasarLLVM/Plugins/CMakeLists.txt
+++ b/lib/PhasarLLVM/Plugins/CMakeLists.txt
@@ -28,11 +28,6 @@ endif()
 
 
 find_package(Boost COMPONENTS log filesystem program_options REQUIRED)
-if(USE_LLVM_FAT_LIB)
-  llvm_config(phasar_plugins USE_SHARED ${LLVM_LINK_COMPONENTS})
-else()
-  llvm_config(phasar_plugins ${LLVM_LINK_COMPONENTS})
-endif()
 target_link_libraries(phasar_plugins
   LINK_PUBLIC
   ${Boost_LIBRARIES}
@@ -47,14 +42,11 @@ set_target_properties(phasar_plugins
 
 
 # Handle all plugins
+list(TRANSFORM LLVM_LINK_COMPONENTS PREPEND LLVM)
 foreach(plugin ${PLUGINS_SO})
   get_filename_component(plugin_name ${plugin} NAME_WE)
   add_library(${plugin_name} SHARED ${plugin})
-  if(USE_LLVM_FAT_LIB)
-    llvm_config(${plugin_name} USE_SHARED ${LLVM_LINK_COMPONENTS})
-  else()
-    llvm_config(${plugin_name} ${LLVM_LINK_COMPONENTS})
-  endif()
+  target_link_libraries(${plugin_name} PUBLIC ${LLVM_LINK_COMPONENTS})
   set_target_properties(${plugin_name} PROPERTIES PREFIX "")
   target_link_libraries(${plugin_name}
     LINK_PRIVATE
diff --git a/tools/boomerang/CMakeLists.txt b/tools/boomerang/CMakeLists.txt
index 873ed5d2..f7aebef5 100644
--- a/tools/boomerang/CMakeLists.txt
+++ b/tools/boomerang/CMakeLists.txt
@@ -34,11 +34,8 @@ target_link_libraries(boomerang
   ${PHASAR_STD_FILESYSTEM}
 )
 
-if(USE_LLVM_FAT_LIB)
-  llvm_config(boomerang USE_SHARED ${LLVM_LINK_COMPONENTS})
-else()
-  llvm_config(boomerang ${LLVM_LINK_COMPONENTS})
-endif()
+list(TRANSFORM LLVM_LINK_COMPONENTS PREPEND LLVM)
+target_link_libraries(boomerang PUBLIC ${LLVM_LINK_COMPONENTS})
 
 set(LLVM_LINK_COMPONENTS
 )
diff --git a/tools/example-tool/CMakeLists.txt b/tools/example-tool/CMakeLists.txt
index 63342bf8..75316991 100644
--- a/tools/example-tool/CMakeLists.txt
+++ b/tools/example-tool/CMakeLists.txt
@@ -34,11 +34,8 @@ target_link_libraries(myphasartool
   ${PHASAR_STD_FILESYSTEM}
 )
 
-if(USE_LLVM_FAT_LIB)
-  llvm_config(myphasartool USE_SHARED ${LLVM_LINK_COMPONENTS})
-else()
-  llvm_config(myphasartool ${LLVM_LINK_COMPONENTS})
-endif()
+list(TRANSFORM LLVM_LINK_COMPONENTS PREPEND LLVM)
+target_link_libraries(myphasartool PUBLIC ${LLVM_LINK_COMPONENTS})
 
 set(LLVM_LINK_COMPONENTS
 )
diff --git a/tools/phasar-clang/CMakeLists.txt b/tools/phasar-clang/CMakeLists.txt
index 21b9c22d..dc065f91 100644
--- a/tools/phasar-clang/CMakeLists.txt
+++ b/tools/phasar-clang/CMakeLists.txt
@@ -10,11 +10,8 @@ else()
 endif()
 
 find_package(Boost COMPONENTS log filesystem program_options graph ${BOOST_THREAD} REQUIRED)
-if(USE_LLVM_FAT_LIB)
-  llvm_config(phasar-clang USE_SHARED ${LLVM_LINK_COMPONENTS})
-else()
-  llvm_config(phasar-clang ${LLVM_LINK_COMPONENTS})
-endif()
+list(TRANSFORM LLVM_LINK_COMPONENTS PREPEND LLVM)
+target_link_libraries(phasar-clang PUBLIC ${LLVM_LINK_COMPONENTS})
 target_link_libraries(phasar-clang
   LINK_PUBLIC
   phasar_config
diff --git a/tools/phasar-llvm/CMakeLists.txt b/tools/phasar-llvm/CMakeLists.txt
index 5ac7e402..128fc16d 100644
--- a/tools/phasar-llvm/CMakeLists.txt
+++ b/tools/phasar-llvm/CMakeLists.txt
@@ -38,11 +38,8 @@ target_link_libraries(phasar-llvm
   ${PHASAR_STD_FILESYSTEM}
 )
 
-if(USE_LLVM_FAT_LIB)
-  llvm_config(phasar-llvm USE_SHARED ${LLVM_LINK_COMPONENTS})
-else()
-  llvm_config(phasar-llvm ${LLVM_LINK_COMPONENTS})
-endif()
+list(TRANSFORM LLVM_LINK_COMPONENTS PREPEND LLVM)
+target_link_libraries(phasar-llvm PUBLIC ${LLVM_LINK_COMPONENTS})
 
 set(LLVM_LINK_COMPONENTS
 )
